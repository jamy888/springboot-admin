<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper" th:fragment="form-editors">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Text Editors
            <small>Advanced form element</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="#">Forms</a></li>
            <li class="active">Editors</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">


<!--                <div class="box box-info">-->
<!--                    <div class="box-header">-->
<!--                        <h3 class="box-title">CK Editor-->
<!--                            <small>Advanced and full of features</small>-->
<!--                        </h3>-->
<!--                        &lt;!&ndash; tools box &ndash;&gt;-->
<!--                        <div class="pull-right box-tools">-->
<!--                            <button type="button" class="btn btn-info btn-sm" data-widget="collapse" data-toggle="tooltip" title="Collapse">-->
<!--                  <i class="fa fa-minus"></i></button>-->
<!--                            <button type="button" class="btn btn-info btn-sm" data-widget="remove" data-toggle="tooltip" title="Remove">-->
<!--                  <i class="fa fa-times"></i></button>-->
<!--                        </div>-->
<!--                        &lt;!&ndash; /. tools &ndash;&gt;-->
<!--                    </div>-->
<!--                    &lt;!&ndash; /.box-header &ndash;&gt;-->
<!--                    <div class="box-body pad">-->
<!--                        <form>-->
<!--                            <textarea id="editor1" name="editor1" rows="10" cols="80">-->
<!--                                            This is my textarea to be replaced with CKEditor.-->
<!--                    </textarea>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </div>-->

                <div class="box box-info">
                    <div class="box-header">
                        <h3 class="box-title">wangEditor
                            <small>Advanced and full of features</small>
                        </h3>
                        <!-- tools box -->
                        <div class="pull-right box-tools">
                            <button type="button" class="btn btn-info btn-sm" data-widget="collapse" data-toggle="tooltip" title="Collapse">
                                <i class="fa fa-minus"></i></button>
                            <button type="button" class="btn btn-info btn-sm" data-widget="remove" data-toggle="tooltip" title="Remove">
                                <i class="fa fa-times"></i></button>
                        </div>
                        <!-- /. tools -->
                    </div>
                    <!-- /.box-header -->
                    <div id="editor1">
                        <p>欢迎使用 <b>wangEditor</b> 富文本编辑器</p>
                    </div>
                </div>
                <!-- /.box -->



                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title">Bootstrap WYSIHTML5
                            <small>Simple and fast</small>
                        </h3>
                        <!-- tools box -->
                        <div class="pull-right box-tools">
                            <button type="button" class="btn btn-default btn-sm" data-widget="collapse" data-toggle="tooltip" title="Collapse">
                  <i class="fa fa-minus"></i></button>
                            <button type="button" class="btn btn-default btn-sm" data-widget="remove" data-toggle="tooltip" title="Remove">
                  <i class="fa fa-times"></i></button>
                        </div>
                        <!-- /. tools -->
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body pad">
                        <form>
                            <textarea class="textarea" placeholder="Place some text here" style="width: 100%; height: 200px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;"></textarea>
                        </form>
                    </div>
                </div>




                <div class="box">
                    <div class="box-header">
                        <h3 class="box-title">Markdown Editor
                            <small>Use Markdown</small>
                        </h3>
                        <!-- tools box -->
                        <div class="pull-right box-tools">
                            <button type="button" class="btn btn-default btn-sm" data-widget="collapse" data-toggle="tooltip" title="Collapse">
                  <i class="fa fa-minus"></i></button>
                            <button type="button" class="btn btn-default btn-sm" data-widget="remove" data-toggle="tooltip" title="Remove">
                  <i class="fa fa-times"></i></button>
                        </div>
                        <!-- /. tools -->
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body pad">
                        <form>
                            <textarea id="markdown-textarea" style="width: 100%; height: 200px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;"></textarea>
                        </form>
                    </div>
                </div>



            </div>
            <!-- /.col-->
        </div>
        <!-- ./row -->
    </section>
    <!-- /.content -->
    <script>
        $(function() {
            // Replace the <textarea id="editor1"> with a CKEditor
            // instance, using default configuration.
            // CKEDITOR.replace('editor1',{
            //     uploadImgSuccess: function() {
            //         // 成功之后回调事件
            //         console.log("上传成功")
            //     }
            // });

            var E = window.wangEditor;
            var editor = new E('#editor1');
            // 或者 var editor = new E( document.getElementById('editor') )

            // 下面两个配置，使用其中一个即可显示“上传图片”的tab。但是两者不要同时使用！！！
            // editor.customConfig.uploadImgShowBase64 = true   // 使用 base64 保存图片
            // editor.customConfig.uploadImgServer = '/uploadImage'; // 上传图片到服务器
            editor.customConfig.uploadImgServer = '/batch/upload'; // 上传图片到服务器

            editor.customConfig.uploadFileName = 'upload'; //上传参数 自定义
            editor.customConfig.uploadImgMaxLength = 5;
            // editor.customConfig.uploadImgParams = {
            //     // 如果版本 <=v3.1.0 ，属性值会自动进行 encode ，此处无需 encode
            //     // 如果版本 >=v3.1.1 ，属性值不会自动 encode ，如有需要自己手动 encode
            //     token: "[[${_csrf.token}]]"
            //

            editor.create();
            editor.customConfig.u

            // editor.customConfig.uploadImgHooks = {
            //     before: function (xhr, editor, files) {
            //         var token ="[[${_csrf.token}]]";
            //         var header = $("meta[name='_csrf_header']").attr("content");
            //         xhr.setRequestHeader(header, token);
            //         // 图片上传之前触发
            //         // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，files 是选择的图片文件
            //
            //         // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传
            //         // return {
            //         //     prevent: true,
            //         //     msg: '放弃上传'
            //         // }
            //     },
            //     success: function (xhr, editor, result) {
            //         // 图片上传并返回结果，图片插入成功之后触发
            //         // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，result 是服务器端返回的结果
            //     },
            //     fail: function (xhr, editor, result) {
            //         // 图片上传并返回结果，但图片插入错误时触发
            //         // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，result 是服务器端返回的结果
            //     },
            //     error: function (xhr, editor) {
            //         // 图片上传出错时触发
            //         // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象
            //     },
            //     timeout: function (xhr, editor) {
            //         // 图片上传超时时触发
            //         // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象
            //     },
            //
            //     // // 如果服务器端返回的不是 {errno:0, data: [...]} 这种格式，可使用该配置
            //     // // （但是，服务器端返回的必须是一个 JSON 格式字符串！！！否则会报错）
            //     // customInsert: function (insertImg, result, editor) {
            //     //     // 图片上传并返回结果，自定义插入图片的事件（而不是编辑器自动插入图片！！！）
            //     //     // insertImg 是插入图片的函数，editor 是编辑器对象，result 是服务器端返回的结果
            //     //
            //     //     // 举例：假如上传图片成功后，服务器端返回的是 {url:'....'} 这种格式，即可这样插入图片：
            //     //     var url = result.ur
            //     //     insertImg(url)
            //     //
            //     //     // result 必须是一个 JSON 格式字符串！！！否则报错
            //     // }
            // }
            editor.create();

            //bootstrap WYSIHTML5 - text editor
            // $(".textarea").wysihtml5();

            $("#markdown-textarea").markdown({
                language: 'zh',
                autofocus: false,
                savable: false
            });


        });
    </script>

    <script>
        // 激活导航位置
        setSidebarActive("form-editors");
    </script>
</div>
<!-- /.content-wrapper -->